Algorithms taken from https://github.com/zingl/Bresenham

Put through https://c2rust.com/ then adapted to:
 - use rust types instead of libc types
 - take a function as argument to draw pixels